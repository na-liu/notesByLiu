# 经典逻辑推理

<font color=red>【确定性推理】重点：归结演绎推理</font>

本章的主要内容：

- 基本概念
- 自然演绎推理
- 归结演绎推理
- 与或形演绎推理

如何进行一次推理？观察结果（事实）--->推理依据（规则）--->推理结果（结论）【柯南的推理过程，人类本身有语义理解能力】

计算机如何进行推理?将事实和规则借用一些符号，将推理过程形式化。

## 基本概念

### 符号与形式语言

数理逻辑：

- 命题逻辑：
- 谓词逻辑：有量词和变元，函数等

正向推理：由已知事实，从知识库中找可使用的知识进行推理

逆向推理：做一个假设，为该假设找证据，所需要的证据都能找到，则假设成立。

混合推理：先正向后逆向等混合使用

双向推理：正向和逆向都进行推理，找到一个相遇点。

求解策略：所求解的类型，一个还是所有可行解，或者是最优解。

限制策略：限制搜索的深度、时间等

### 模式匹配

- 确定性匹配：
  - 知识: IF father(x,y) and man(y) THEN son(y,x)
  - 事实: father(李四，李小四) and man(李小四)

- 不确定性匹配：不确定性匹配是指两个知识模式不完全一 致，但是它们的相似程度又在规定的限度内。

置换和合一和第二章的相同

### 置换

F是表达式，$\theta$是置换，F$\theta$为F的特例。

代换的复合：设$θ= {t_1/x_1,t_2/x_2,...,t_n/x_n}$，$λ= u_1/y_1,u_2/y_2,...,u_n/y_n$是两个代换，则这两个代换的复合也是一个代换，它是从{$t_1\lambda/x_1,t_2\lambda/x_2,...,t_n\lambda/x_n,u_1/y_1,u_2/y_2,...,u_m/y_m$}中删去如下两种元素：

- $t_i\lambda/x_i$，当前项与变元相同时，需要删除
- $u_i/y_i$，当前$y_i \in {x_1,...,x_n}$时，需要删除

### 合一

最一般合一：若表达式中的式子不唯一，则找出F的差异集，将F进行一次次的置换，直到F中只含有一个表达式结束。

### 冲突消解策略

冲突是指多个知识都匹配成功，所以需要对知识进行排序

集中冲突消解的策略：略！！！

## 自然演绎推理

## 归结演绎推理

【文字】：谓词逻辑中，原子谓词公式及其否定统称为文字。

【子句】：任何文字的析取式。

【互补文字】：P是原子谓词公式，P和~P为互补文字。

【纯文字】：子句集中不存在文字P的互补文字，那么P就是纯文字。

【单文字子句】：一个子句中只包含一个文字。

【划分子句集】：

1. 消除等价关系，将p->q换成~p或q
2. 将否定移动到紧靠谓词公式的地方
3. 重新命名变元
4. 消除存在量词，如果包含在多个全称量词的辖域内，需要用全称量词中的变元函数代替。如果不在全称量词的辖域内，用一个新的个体代替就好。
5. 将全称量词移到公式的左边。
6. 化成析取范式
7. 消去全称量词
8. 变量更名，将每一个小项中的变量改成不一样的
9. 消去合取号，得到的每一个小项就是子句集

【子句集的性值】：

- 子句集中的子句之间是合取关系
- 子句集中的变元收全称量词的约束
- 同一个子句集中的子句不能同时为True

【定理】：谓词公式F的子句集S，F不可满足的充要条件是S不可满足，需要每一个小项都不可满足。

【归结】：S中任意两个子句C1,C2【亲本子句】，其对应的文字L1,L2互补，消去这两个子句中的互补文字，将剩余的部分析取，构成新子句C12【归结式】，这个过程为归结。 

欲证明Q为P1,P2,…,Pn的逻辑结论，即Q->(P1,P2,...,Pn)，只需证(P1∧P2∧…∧Pn)∧¬Q是不可满足的，或证明其子句集是不可满足的。而子句集的不可满足性可用归结原理来证明。

【归结反演】：应用归结原理证明定理的过程称为 归结反演。
设F为已知前提的公式集，Q为目标公式(结论)，用归结反演证明Q为真的步骤是：

- 否定Q，得到¬Q；
- 把¬Q并入到公式集F中，得到{F, ¬Q};
- 把公式集{F, ¬Q}化为子句集S；
- 应用归结原理对子句集S中的子句进行归结，并把每次归结得到的归结式都并入S中。如此反复进行，若出现了**空子句**(NIL)，则停止归结，此时就证明了Q为真。

【求解步骤】：

1. 把已知前提用谓词公式表示出来，并且化为相应的子句集。设该子句集的名字为S。
2. 把待求解的问题也用谓词公式G表示出来，然后把它否定并与谓词Answer构成析取式。Answer是一个为了求解问题而专设的谓词。
3. 把此析取式化为子句集，并且把该子句集并入到子句集S中，得到子句集S‘。对S’应用归结原理进行归结。
4. 若得到归结式Answer，则答案就在Answer中。

【注意】：

- 一个子句可以多次被用到
- 归结过程中不需要用到所有子句

【归结策略】：

- 删除策略：如果一个子句包含纯文字，该子句可以删除；如果一个子句同时包含互补文字，则该子句为重言式，也可以删除。
- 方法：首先将S内部的子句两两归结得到S1，然后再用S内子句和S1中的归结得到S2，然后用S和S1的子句和S2归结得到S3，依次往下归结，直到出现空子句或者无法归结时停止。
- 支持集策略：参加归结的子句中必须有一个是由目标公式的否定所得到的子句。
- 线性输入策略：每一次归结的两个子句中必须包含一个S中的子句。

## 规则演绎推理

IF->THEN规则
